{"idModule":"50","name":"ProgrammeTV","description":"Ce module permet de récupérer les programmes de la télévision française (1ère partie de soirée).","slug":"programmetv","createdAt":"2016-01-07 18:26:30","Developer":"Fl0r!an","version":"0.1.1","instructionsHTML":"<h2>Pré-requis</h2>\n<p>Nécessite Gladys &gt;= 3.0.0.</p>\n<h2>Installation</h2>\n<ul>\n<li>Installer le module dans le store sur Gladys.</li>\n<li>Rebooter Gladys.</li>\n<li>Dans les paramètres globaux de Gladys, changer si besoin ce paramètre pour exclure des chaines à récupérer.\n<ul>\n<li><code>PROGRAMMETV_CHAINES_EXCLUES</code> : <code>TF1,France 2</code></li>\n</ul></li>\n</ul>\n<h2>Utilisation</h2>\n<p>Par exemple, pour annoncer le programme du soir sur une Sonos :</p>\n<pre><code class=\"language-javascript\">gladys.modules.programmetv.exec()\n    .then(programmes =&gt; {\n        var texte = '';\n        var nomChaines = Object.getOwnPropertyNames(programmes);\n        for (var i = 0; i &lt; nomChaines.length; i++) {\n            texte += `Sur ${nomChaines[i]}/`;\n            texte += `${programmes[nomChaines[i]].nomProgramme}/`;\n            texte += `${programmes[nomChaines[i]].typeProgramme}.`;\n        }\n\n        return gladys.modules['speak-sonos'].say({language : 'fr', text : texte, device : 2});\n    });</code></pre>","instructionsMarkDown":"## Pré-requis\n\nNécessite Gladys >= 3.0.0.\n\n## Installation\n\n* Installer le module dans le store sur Gladys.\n* Rebooter Gladys.\n* Dans les paramètres globaux de Gladys, changer si besoin ce paramètre pour exclure des chaines à récupérer.\n    * `PROGRAMMETV_CHAINES_EXCLUES` : `TF1,France 2`\n\n## Utilisation\n\nPar exemple, pour annoncer le programme du soir sur une Sonos :\n\n```javascript\ngladys.modules.programmetv.exec()\n    .then(programmes => {\n        var texte = '';\n        var nomChaines = Object.getOwnPropertyNames(programmes);\n        for (var i = 0; i < nomChaines.length; i++) {\n            texte += `Sur ${nomChaines[i]}/`;\n            texte += `${programmes[nomChaines[i]].nomProgramme}/`;\n            texte += `${programmes[nomChaines[i]].typeProgramme}.`;\n        }\n        \n        return gladys.modules['speak-sonos'].say({language : 'fr', text : texte, device : 2});\n    });\n```","link":"https://github.com/florian56/gladys-programmetv","img":"0894c4a9-b24d-4112-a757-704bf4e78f27.jpg","note":null,"nbNotes":"0"}