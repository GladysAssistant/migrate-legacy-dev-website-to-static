{"idModule":"83","name":"Google Direction","description":"This module allows you to calculate travel time between two points based on Google API.","slug":"google-direction","createdAt":"2017-05-28 13:09:34","Developer":"Admin","version":"0.1.0","instructionsHTML":"<p>This module allows you to calculate travel time in Gladys.<br />\nNeed Gladys &gt;= 3.6</p>\n<h4>Configuration</h4>\n<ul>\n<li>Install this module in Gladys. Do not reboot for the moment.</li>\n<li>Visit <a href=\"https://console.developers.google.com/project\">Google Developpers Console</a></li>\n<li>Click <strong>CREATE PROJECT</strong></li>\n<li>Enter a <em>Project Name</em> (for example &quot;Gladys&quot;) , then click <strong>CREATE</strong></li>\n<li>Select <em>Google Maps Directions API</em> under <em>Google Maps API</em>.</li>\n</ul>\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/1.google-api-dashboard.png\" alt=\"Google Developpers Console\" class=\"img-responsive\" />\n<ul>\n<li>Then, click on &quot;Activate&quot; to activate the API</li>\n</ul>\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/2.google-directions-api.png\" class=\"img-responsive\" alt=\"Google directions API\" />\n<ul>\n<li>You need then to create an API Key. Click on create identifier</li>\n</ul>\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/3.google-create-identifier.png\" alt=\"Google create identifier\" class=\"img-responsive\" />\n<ul>\n<li>You should see something like this:</li>\n</ul>\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/4.add-identifier.png\" alt=\"Add identifier\" class=\"img-responsive\" />\n<ul>\n<li>Now, all you have to do is to save your API Key: </li>\n</ul>\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/5.get-api-key.png\" alt=\"Get api Key\" class=\"img-responsive\" />\n<ul>\n<li>Go to Gladys, and go to &quot;Parameters&quot; =&gt; &quot;Parameters&quot;. Create an entry:<br />\nName = <em>GOOGLE_DIRECTION_API_KEY</em>, value = YOUR API KEY</li>\n<li>Reboot Gladys</li>\n<li>It's ok!</li>\n</ul>\n<h4>Usage</h4>\n<p>Create a script, and enter:</p>\n<pre><code class=\"language-javascript\">gladys.direction.travelTime({\n    origin: '12 rue des champs élysées 75008 Paris',\n    destination: '132 Rue de Courcelles, 75017 Paris'\n})\n.then(function(result){\n    // result = { duration: 493 } \n    // duration is in seconds\n    console.log(`Travel time is ${result.duration} seconds`);\n})\n.catch(console.log)</code></pre>\n<p>If you want to estimate the travel time at a given time, just do:</p>\n<pre><code class=\"language-javascript\">gladys.direction.travelTime({\n    origin: '12 rue des champs élysées 75008 Paris',\n    destination: '132 Rue de Courcelles, 75017 Paris',\n    departure_time: 1496005045 // TIMESTAMP in seconds\n})\n.then(function(result){\n    // result = { duration: 493 } \n    // duration is in seconds\n    console.log(`Travel time is ${result.duration} seconds`);\n})\n.catch(console.log)</code></pre>\n<p>You can pass your travel preferences:</p>\n<pre><code class=\"language-javascript\">gladys.direction.travelTime({\n    origin: '12 rue des champs élysées 75008 Paris',\n    destination: '132 Rue de Courcelles, 75017 Paris',\n    mode: 'transit' // we will take public transportation! \n})\n.then(function(result){\n    // result = { duration: 493 } \n    // duration is in seconds\n    console.log(`Travel time is ${result.duration} seconds`);\n})\n.catch(console.log)</code></pre>\n<p>It supports all the options listed on Google Documentation =&gt; <a href=\"https://developers.google.com/maps/documentation/directions/intro\">https://developers.google.com/maps/documentation/directions/intro</a></p>","instructionsMarkDown":"This module allows you to calculate travel time in Gladys.\nNeed Gladys >= 3.6\n\n#### Configuration\n\n- Install this module in Gladys. Do not reboot for the moment.\n- Visit [Google Developpers Console](https://console.developers.google.com/project)\n- Click **CREATE PROJECT**\n- Enter a *Project Name* (for example \"Gladys\") , then click **CREATE**\n- Select *Google Maps Directions API* under *Google Maps API*.\n\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/1.google-api-dashboard.png\" alt=\"Google Developpers Console\" class=\"img-responsive\" />\n\n- Then, click on \"Activate\" to activate the API\n\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/2.google-directions-api.png\" class=\"img-responsive\" alt=\"Google directions API\" />\n\n- You need then to create an API Key. Click on create identifier\n\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/3.google-create-identifier.png\" alt=\"Google create identifier\" class=\"img-responsive\" />\n\n- You should see something like this:\n\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/4.add-identifier.png\" alt=\"Add identifier\" class=\"img-responsive\" />\n\n- Now, all you have to do is to save your API Key: \n\n<img src=\"https://gladysproject.com/assets/images/external/google-direction/5.get-api-key.png\" alt=\"Get api Key\" class=\"img-responsive\" />\n\n- Go to Gladys, and go to \"Parameters\" => \"Parameters\". Create an entry:\nName = *GOOGLE_DIRECTION_API_KEY*, value = YOUR API KEY\n- Reboot Gladys\n- It's ok!\n\n#### Usage\n\nCreate a script, and enter:\n\n```javascript\ngladys.direction.travelTime({\n    origin: '12 rue des champs élysées 75008 Paris',\n    destination: '132 Rue de Courcelles, 75017 Paris'\n})\n.then(function(result){\n    // result = { duration: 493 } \n    // duration is in seconds\n    console.log(`Travel time is ${result.duration} seconds`);\n})\n.catch(console.log)\n```\n\nIf you want to estimate the travel time at a given time, just do:\n\n```javascript\ngladys.direction.travelTime({\n    origin: '12 rue des champs élysées 75008 Paris',\n    destination: '132 Rue de Courcelles, 75017 Paris',\n    departure_time: 1496005045 // TIMESTAMP in seconds\n})\n.then(function(result){\n    // result = { duration: 493 } \n    // duration is in seconds\n    console.log(`Travel time is ${result.duration} seconds`);\n})\n.catch(console.log)\n```\n\nYou can pass your travel preferences:\n\n```javascript\ngladys.direction.travelTime({\n    origin: '12 rue des champs élysées 75008 Paris',\n    destination: '132 Rue de Courcelles, 75017 Paris',\n    mode: 'transit' // we will take public transportation! \n})\n.then(function(result){\n    // result = { duration: 493 } \n    // duration is in seconds\n    console.log(`Travel time is ${result.duration} seconds`);\n})\n.catch(console.log)\n```\n\nIt supports all the options listed on Google Documentation => [https://developers.google.com/maps/documentation/directions/intro](https://developers.google.com/maps/documentation/directions/intro)\n","link":"https://github.com/gladysassistant/gladys-google-direction","img":"fb47d70f-bbc8-4b69-a9f6-321afc508241.jpg","note":"5","nbNotes":"1"}